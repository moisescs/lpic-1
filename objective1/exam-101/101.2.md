## 101.2 Boot the system
Weight: 3

### BIOS
* Basic Input Output System
* É o firmware da placa mãe.
* Liga os componentes, cpu, ram, hd, etc.
* Executa testes através do POST - Power On Self Test.

### UEFI

* Unified Extensible Firmware Interface.
* Mais moderno que a BIOS em termos de interface e usabilidade.
* Suporta discos com mais de 2TB.
* É possível usar a BIOS, mas não o contrário.

### MBR
* Master Boot Record
* Está localizada no primeiro setor do disco ocupando 512 bytes.
* Armazena a tabela de partições e o **bootloader**.
* Define a forma como o disco será particionado.
* Utiliza espaço de endereçamento de 32 bits.
* Suporta discos de no máximo 2TB.
* Permite definir as partições primária ou extendida.
* Máximo de 4 partições primárias.
* Máximo de 1 partição extendida que possibilita criar várias partições lógicas. A numeração inicia em 5:
```
Device     Boot      Start        End    Sectors   Size Id Type
/dev/sdb1             2048 1932996607 1932994560 921.7G  7 HPFS/NTFS/exFAT
/dev/sdb2       1932996608 1937190911    4194304     2G 83 Linux
/dev/sdb3       1937190912 1941385215    4194304     2G 83 Linux
/dev/sdb4       1941385216 1953525166   12139951   5.8G  5 Extended
/dev/sdb5       1941387264 1943484415    2097152     1G 83 Linux
/dev/sdb6       1943486464 1945583615    2097152     1G 83 Linux
/dev/sdb7       1945585664 1947682815    2097152     1G 83 Linux
/dev/sdb8       1947684864 1949782015    2097152     1G 83 Linux
/dev/sdb9       1949784064 1951881215    2097152     1G 83 Linux
/dev/sdb10      1951883264 1953525166    1641903 801.7M 83 Linux
```

### GPT
* GUID Partition Table
* É forma mais moderna para definir a estrutura das partições.
* Utiliza espaço de endereçamento de 64 bits.

### ESP
* EFI System Partition
* É uma partição utilizada pelo firmware na inicialização do SO.
* Possui sistema de arquivos FAT32 geralmente com ~100MB.
* É gerada para a tabela de partição GPT.

### ACPI

* Advanced Configuration Power Interface.
* Media os eventos das configurações dos dispositivos como: botão de ligar/desligar, wireless, etc.
* `acpid` é o programa responsável por gerenciar os eventos.
* `/proc/acpi/events`
* `/etc/acpi/events`
* `/var/lock/acpid`

### Grub
É o `bootloader`, basicamente ele descompacta e executa o kernel

O bootloader permite definir parâmetros para inicialização do kernel (separados por espaço).

As opções podem ter a seguite estrutura chave=valor <valor> exemplo:
* init=/bin/bash - qual shell utilizado
* mem=512M - limite de memória
* maxcpus=1 - limite de cpu
* quiet - omite as mensagens de inicialização
* vga=773 - modo do vídeo
* root=/dev/sda3 - localização do volume `/`
* ro/rw - forma como a montagem será realizada, somente leitura ou leitura e escrita.
* 1,2,3,4,5 - runlevel, basta passar o número.

### Kernel
* O kernel inicia e executa o `initramfs`.
* Identifica o hardware da máquina.
* Monta a raiz do sistema `/` no disco rígido.
* Inicializa o primeiro processo.
* Inicializa os serviços.

#### Initramfs/Initd
* Monta o volume `/` na RAM para o `kernel` concluir toda identificação e configuração do hardware para após isso mover o volume `/` para o disco rígido.

### SysVinit/Systemd/Upstart

* Nos sistemas antigos o primeiro processo era o `init` (SysV).
* O `Upstart` substitui o `SysVinit` por ser mais moderno e utilizar o processamento em paralelo. Porém foi substituído pelo `Systemd`.
* O `Sistemd` é o sistema de inicialização mais moderno, pois utiliza a técnica de paralelismo para processadores com vários núcleos, tornando a inicialização mais rápida.


### dmesg
Exibe as informações da última inicialização do sistema e as novas que ocorrem em tempo de execução de forma detalhada.
Podem ser inseridas novas informações manualmente.
