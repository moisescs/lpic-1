## 102.1 - Design hard disk layout

### Ponto de montagem `/`
O Grub executa o kernel e envia a localização do diretório `/` (root). É identificado com o valor hexadecimal 0x83 (Linux Native). Ele será primeiramente montado na RAM pelo `initramfs`. Caso tudo esteja normal, a montagem é feita no disco rígido.

Os diretórios exclusivos do `/`:
* `/bin`  binários
* `/dev`  dispositivos (hd, ssd, dvd, cd, etc)
* `/etc`  arquivos de configuração
* `/lib`  bibliotecas e módulos do kernel
* `/mnt`  pontos de montagem
* `/sbin` binários administrativos

Após a montagem do `/` (root), os outros pontos de montagem registrados no arquivo `/etc/fstab` são configurados.
* `/tmp`  arquivos temporários utilizados pelos programas
* `/var`  conteúdo variável (banco de dados, logs, filas de email e impressão, etc)
* `/opt`  alternativa para aplicativos instalados manualmente
* `/home` diretório dos usuários
* `/boot` kernel, initramfs e arquivos do bootloader
* `/root` diretório do usuário root
* `/usr`  arquivos dos usuários como binários, bibliotecas, documentação, fontes, documentação, etc

Os pontos de montagem `/proc`, `/sys` e `/dev` são especiais e devem estar sempre associados ao `/`.

### Swap
Espaço reservado para alocar o conteúdo não utilizado da memória RAM quando esta atinge seu limite.
Numa instalação Linux é exigido a localização da partição swap. Mas não é obrigatória.
Após a montagem do `/` (root), a próxima é a swap.

```shell
# exibe as partições swap ativas
swpaon

# ativa uma partição swap ou todas identificadas em /etc/fstab
swap on -a
swapon /dev/sda2

# desativa uma partição swap
swapoff /dev/sda2
```

### LVM - Logical Volume Manager

* Cria discos e volumes lógicos:

```shell
pvcreate /dev/sdb2 /dev/sdb3
pvdisplay

vgcreate lvgroup1 /dev/sdb2 /dev/sdb3
vgdisplay

lvcreate -L 500M lvgroup1
lvdisplay

mkfs.ext4 /dev/lvmtest/lvol0
mount /dev/lvgroup1/lvol0 /mnt/lvm
```
