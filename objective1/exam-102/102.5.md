## 102.5 Use RPM and YUM package management

### Repositório

* `/etc/yum.conf` configuração do yum.
* `/etc/yum.repos.d/` arquivos para cada repositório `*.repo`.

### rpm

```shell
# download
yumdownloader iptraf

# download
yumdownloder --resolve iptraf

# instala
rpm -ivh iptraf-ng-1.1.4-6.el7.x86_64

# verifica se algum dos arquivos do pacote instalado foi alterado
rpm -V iptraf-ng
rpm --verify iptraf-ng

# atualiza ou instala o pacote
rpm -U iptraf-ng-1.1.4-6.el7.x86_64

# atualiza apenas se tiver instalado
rpm -F iptraf-ng-1.1.4-6.el7.x86_64

# lista de pacotes instalados
rpm -qa | grep iptraf

# informação do pacote instalado
rpm -qi iptraf-ng

# arquivos do pacote instalado
rpm -ql iptraf-ng

# identifica a qual pacote o arquivo pertence
rpm -qf /etc/logrotate.d/iptraf

# desinstala
rpm -evh iptraf-ng
```

### yum
```shell
# pesquisar
yum search iptraf

# verifica as dependências de um pacote
yum deplist iptraf-ng

# instalar
yum install iptraf

# lista de pacotes instalados
yum list | grep iptraf

# atualizar todos os pacotes
yum update
yum upgrade

# remover
yum remove iptraf
yum erase iptraf
```

### rpm2cpio cpio

```shell
# converte um rpm em
rpm2cpio iptraf-ng-1.1.4-6.el7.x86_64.rpm > iptraf.cpio

# visualizar o conteúdo
cpio -t < iptraf.cpio

# extrai um cpio para o diretório corrente
cpio -id < pkg.cpio

# extrai um rpm --make-directories é equivalente a -d
rpm2cpio iptraf-ng-1.1.4-6.el7.x86_64.rpm | cpio -i --make-directories
```
